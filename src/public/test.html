
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Képfeltöltő</title>
</head>
<body>
    <h1>Képfeltöltő és Galéria</h1>

    <form action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="image" accept="image/*" required>
        <button type="submit">Feltöltés</button>
    </form>

    <h2>Feltöltött képek:</h2>

    <div id="imageGallery"></div>

    <script>
        // Képek betöltése a galériába
        async function loadImages() {
            const response = await fetch('/uploaded-images');
            const images = await response.json();
            
            const gallery = document.getElementById('imageGallery');
            
            images.forEach((image) => {
                const imgElement = document.createElement('img');
                imgElement.src = `/uploads/${image.filename}`;
                imgElement.alt = 'Feltöltött kép';
                gallery.appendChild(imgElement);
            });
        }

        // Oldal betöltésekor a képek automatikus frissítése
        document.addEventListener('DOMContentLoaded', () => {
            loadImages();
        });
    </script>
</body>
</html>